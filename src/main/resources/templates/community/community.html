<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>커뮤니티 - AI 면접 시뮬레이터</title>
    <link rel="stylesheet" href="/css/community.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

<div class="community-container">
    <header class="community-header">
        <h1>커뮤니티</h1>
        <p>다른 개발자들의 면접 결과를 확인해보세요</p>
        <p class="post-count" th:text="'총 ' + ${posts.size()} + '개의 면접 결과'">총 0개의 면접 결과</p>
    </header>

    <!-- 검색/필터 바 -->
    <div class="filter-bar">
        <div class="left-controls">
            <select name="sort">
                <option value="recent">최신순</option>
                <option value="likes">좋아요순</option>
            </select>
        </div>

        <div class="search-box">
            <input type="text" name="keyword" placeholder="면접 결과 검색..." />
            <button type="submit"><i class="fa fa-search"></i></button>
        </div>

        <div class="tag-filters">
            <button class="active">전체</button>
            <button>백엔드</button>
            <button>프론트엔드</button>
            <button>풀스택</button>
            <button>DevOps</button>
            <button>주니어</button>
            <button>미드레벨</button>
            <button>시니어</button>
        </div>
    </div>

    <!-- 게시글 카드 목록 -->
    <div class="card-list">
        <div class="post-card" th:each="post : ${posts}">
            <div class="user-info">
                <img class="profile-img" src="/img/default-profile.png" alt="기본 프로필">
                <div>
                    <strong th:text="${post.username}">작성자</strong>
                    <span class="user-meta"
                          th:text="${post.techTag + ' · ' + post.levelTag}">직무 · 경력</span>
                </div>
            </div>

            <h3 class="post-title" th:text="${post.title}">제목입니다</h3>
            <p class="post-summary" th:text="${post.summary}">내용 요약</p>

            <div class="post-score" th:text="${post.score + '점 · ' + post.grade}">0점 · 미정</div>

            <div class="post-meta">
                <span><i class="fa fa-heart"></i> <span th:text="${post.likeCount}">0</span></span>
                <span><i class="fa fa-bookmark"></i> <span th:text="${post.scrapCount}">0</span></span>
                <span><i class="fa fa-eye"></i> <span th:text="${post.viewCount}">0</span></span>
            </div>

            <a class="detail-link" th:href="@{/community/posts/{id}/detail(id=${post.id})}">자세히 보기</a>
        </div>
    </div>
</div>

</body>
</html>
