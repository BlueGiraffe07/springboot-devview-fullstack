<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>커뮤니티 글쓰기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/css/post-new.css"/>
</head>
<body>
<div class="container">
    <h1>커뮤니티 글쓰기</h1>

    <form th:action="@{/community/posts}" th:object="${form}" method="post" novalidate>

        <!-- 제목 -->
        <div class="field">
            <label for="title">제목</label>
            <input id="title" type="text" th:field="*{title}" placeholder="제목을 입력하세요"/>
            <div class="error" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">제목 오류</div>
        </div>

        <!-- 내용 -->
        <div class="field">
            <label for="content">내용</label>
            <textarea id="content" th:field="*{content}" placeholder="내용을 입력하세요"></textarea>
            <div class="error" th:if="${#fields.hasErrors('content')}" th:errors="*{content}">내용 오류</div>
            <div class="help">요약(summary)은 서버에서 1000자로 자동 생성됩니다.</div>
        </div>

        <div class="row">
            <div class="field">
                <label for="interviewType">인터뷰 유형</label>
                <select id="interviewType" th:field="*{interviewType}">
                    <option value="">선택</option>
                    <option value="PRACTICE">기술면접</option>
                    <option value="REAL">실무면접</option>
                </select>
                <div class="error" th:if="${#fields.hasErrors('interviewType')}" th:errors="*{interviewType}">인터뷰 타입 오류</div>
            </div>

            <div class="field">
                <label for="grade">등급</label>
                <select id="grade" th:field="*{grade}">
                    <option value="">선택</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                </select>
                <div class="error" th:if="${#fields.hasErrors('grade')}" th:errors="*{grade}">등급 오류</div>
            </div>
        </div>

        <div class="row">
            <div class="field">
                <label for="techTag">기술 태그</label>
                <select id="techTag" th:field="*{techTag}">
                    <option value="">선택</option>
                    <option value="백엔드">백엔드</option>
                    <option value="프론트엔드">프론트엔드</option>
                    <option value="풀스택">풀스택</option>
                    <option value="DevOps">DevOps</option>
                    <option value="데이터">데이터</option>
                </select>
                <div class="help">선택 사항</div>
            </div>

            <div class="field">
                <label for="level">레벨</label>
                <select id="level" th:field="*{level}">
                    <option value="">선택</option>
                    <option value="주니어">주니어</option>
                    <option value="미드레벨">미드레벨</option>
                    <option value="시니어">시니어</option>
                </select>
                <div class="help">선택 사항</div>
            </div>
        </div>

        <div class="row">
            <div class="field">
                <label for="category">카테고리</label>
                <select id="category" th:field="*{category}">
                    <option value="">선택</option>
                    <option value="QNA">Q&amp;A</option>
                    <option value="INTERVIEW">면접후기</option>
                    <option value="TIPS">팁/노하우</option>
                    <option value="FREE">자유</option>
                </select>
                <div class="help">선택 사항</div>
            </div>

            <div class="field">
                <label for="type">타입</label>
                <select id="type" th:field="*{type}">
                    <option value="">선택</option>
                    <option value="POST">일반글</option>
                    <option value="REVIEW">리뷰</option>
                    <option value="NOTICE">공지</option>
                </select>
                <div class="help">선택 사항</div>
            </div>
        </div>

        <div class="field">
            <label for="score">점수</label>
            <input id="score" type="number" th:field="*{score}" min="0" step="1" placeholder="예: 0"/>
            <div class="help">미입력 시 0으로 저장됩니다.</div>
        </div>

        <div class="actions">
            <a class="btn btn-secondary" th:href="@{/community}">취소</a>
            <button class="btn btn-primary" type="submit">등록</button>
        </div>
    </form>
</div>
</body>
</html>
